<template>
  <Layout>
    <div class="container my-8">
      <h1 class="mb-4 lg:text-5xl text-3xl">Pinterest Embed</h1>

      <div class="text-lg mb-4">
        Pinterst –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –Ω–∞ iPad Pro, –ø–æ—ç—Ç–æ–º—É –ø–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –≤—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. –≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É.
      </div>

      <input class="mb-4 p-4 border-2 border-black w-full" type="text" name="" v-model="url" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å—Ç –≤ Pinterest">

      <div v-if="url" class="">
        <div class="">
          –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –±–ª–æ–≥:
        </div>

        <div class="bg-gray-100 border-1 rounded p-8 font-mono">
          {{ code }}
        </div>

        <div class="button button--2xl cursor-pointer mt-4" @click="handleCopy()">
          –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
        </div>
      </div>
    </div>
  </Layout>
</template>

<script>
import Vue from 'vue'
import VueClipboard from 'vue-clipboard2'
Vue.use(VueClipboard)

export default {
  data: () => ({
    url: ``
  }),

  computed: {
    code() {
      return `<a data-pin-do="embedPin" data-pin-lang="ru" href="${this.url}"></a>`
    }
  },

  methods: {
    handleCopy: function () {
      this.$copyText(this.code).then(function (e) {
        console.log(e)
      }, function (e) {
        console.log(e)
      })

      alert('–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω! üòò')
    }
  }
}
</script>
